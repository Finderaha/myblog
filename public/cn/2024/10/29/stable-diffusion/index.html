<a name=top></a><!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Finder</title>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css></head><body><div class=wrapper><header class=header><nav class=nav><a href=/ class=nav-logo><img src=/media/hugo-logo.png width=50 height=50 alt=Hugo-ht></a><ul class=nav-links><li><a href=/>主页</a></li><li><a href=/cn/posts/>日志</a></li><li><a href=/cn/about/>关于</a></li><li><a href=/en/posts/>English</a></li></ul></nav></header><main class=content role=main><div style=text-align:center><h1>在ComfyUI实现中文提示词输入</h1><p>Finder
/ 2024-10-29</p><hr></div><span class=article-toolbar><a href=https://github.com/UFinderaha/myblog/edit/main/content/cn%5cposts%5c2024-10-29-%e5%9c%a8ComfyUI%e5%ae%9e%e7%8e%b0%e4%b8%ad%e6%96%87%e6%8f%90%e7%a4%ba%e8%af%8d%e8%be%93%e5%85%a5.md style=font-size:24px;color:#000 target=_blank><i class="fa fa-edit" aria-hidden=true title=编辑本页></i></a></span><aside class=toc>Table of Contents:<nav id=TableOfContents><ol><li><a href=#中文提示词>中文提示词</a><ol><li><a href=#1-节点管理与安装扩展><strong>1. 节点管理与安装扩展</strong></a></li><li><a href=#2-选择翻译节点><strong>2. 选择翻译节点</strong></a></li><li><a href=#3-展示英文翻译><strong>3. 展示英文翻译</strong></a></li></ol></li><li><a href=#分类分段提示词>分类分段提示词</a><ol><li><a href=#1-双击空白处搜索字符串操作>1. 双击空白处，搜索“字符串操作”</a></li><li><a href=#2-选择clip文本编码器节点右键-转化为输入-转化文本为输入>2. 选择‘clip文本编码器’节点，右键-转化为输入-转化文本为输入</a></li><li><a href=#3-选择字符床操作节点右键-转化为输入-转化文本abc-为输入>3. 选择‘字符床操作’节点，右键-转化为输入-转化文本A/B/C 为输入</a></li><li><a href=#4-添加自动负面关键词节点>4. 添加‘自动负面关键词’节点</a></li></ol></li></ol></nav></aside><div class="body-text list-text"><p>Comfy UI 中实现中文提示词的书写，主要通过以下步骤和节点进行操作：</p><h2 id=中文提示词>中文提示词<a href=#中文提示词 class=header-anchor arialabel=Anchor> #</a></h2><h3 id=1-节点管理与安装扩展><strong>1. 节点管理与安装扩展</strong><a href=#1-节点管理与安装扩展 class=header-anchor arialabel=Anchor> #</a></h3><ul><li>双击空白处，搜索 <code>translate</code>，查看是否出现六个翻译节点。</li><li>如果没有出现，前往管理器，点击节点管理，搜索并安装 <code>ALEKPET</code> 扩展。</li><li>安装完成后重启，再次搜索 <code>translate</code>，即可看到相关节点。</li></ul><h3 id=2-选择翻译节点><strong>2. 选择翻译节点</strong><a href=#2-选择翻译节点 class=header-anchor arialabel=Anchor> #</a></h3><ul><li><strong>Argos 翻译</strong>：完全本地翻译，无需网络，适合快速翻译。输入格式为 <code>zh</code>（中文简体）到 <code>EN</code>（英文）。</li><li><strong>Google Translate</strong>：需要网络，选择 <code>from</code> 为 <code>auto</code>，系统会自动检测输入语言，适合多种语言的翻译。</li><li><strong>Clip 文本编码器</strong>（翻译高级）：也可自动检测语言，支持多个 API 接口（如 Google、MyMemory 等），灵活切换。</li></ul><h3 id=3-展示英文翻译><strong>3. 展示英文翻译</strong><a href=#3-展示英文翻译 class=header-anchor arialabel=Anchor> #</a></h3><ul><li>可通过双击空白处，搜索“展示文本”或“预览文本”来查看英文翻译。</li><li>连接翻译节点的“字符串”和展示文本节点的“文本”，以便实时查看翻译结果。</li></ul><aside>💡<p><strong>提升测试效率</strong></p><ol><li>在测试翻译节点时，为了避免渲染图像影响速度，可以使用快捷键：</li></ol><ul><li><strong>Ctrl + B</strong>：忽略当前节点功能，保持节点连接。</li><li><strong>Ctrl + M</strong>：忽略当前节点及其前后连接节点，完全断开。</li></ul><ol><li>在添加节点时，可以点击上个节点尾部，拖拽就会出现提示，会提示常用的几个节点，方便快速添加。</li></ol></aside><h2 id=分类分段提示词>分类分段提示词<a href=#分类分段提示词 class=header-anchor arialabel=Anchor> #</a></h2><p>当我们希望将提示按照主体、主体特征、风格、镜头、环境等分类分段填写时，借助“字符床操作”节点可以快速实现。</p><p><img src=%E5%9C%A8ComfyUI%E5%AE%9E%E7%8E%B0%E4%B8%AD%E6%96%87%E6%8F%90%E7%A4%BA%E8%AF%8D%E8%BE%93%E5%85%A5%2012e5f3cdf14b80798214e8342f3220dc/image.png alt=image.png></p><h3 id=1-双击空白处搜索字符串操作>1. 双击空白处，搜索“字符串操作”<a href=#1-双击空白处搜索字符串操作 class=header-anchor arialabel=Anchor> #</a></h3><ul><li>在‘字符串操作’节点中，append代表叠加，replace代表上面输入框内容覆盖下面输入框内容，通常选择append即可。</li><li>在‘字符串操作’节点中，整个词条 选择 yes即可。</li></ul><h3 id=2-选择clip文本编码器节点右键-转化为输入-转化文本为输入>2. 选择‘clip文本编码器’节点，右键-转化为输入-转化文本为输入<a href=#2-选择clip文本编码器节点右键-转化为输入-转化文本为输入 class=header-anchor arialabel=Anchor> #</a></h3><ul><li>此时clip文本编码器节点中的输入框会消失不见，变成一个输入节点</li><li>将‘字符床操作’的尾部链接到该输入节点即可</li></ul><h3 id=3-选择字符床操作节点右键-转化为输入-转化文本abc-为输入>3. 选择‘字符床操作’节点，右键-转化为输入-转化文本A/B/C 为输入<a href=#3-选择字符床操作节点右键-转化为输入-转化文本abc-为输入 class=header-anchor arialabel=Anchor> #</a></h3><ul><li>添加‘翻译文本(argos翻译)’节点，复制3个相同节点</li><li>将‘翻译文本(argos翻译)’节点的‘字符串’链接到‘字符串操作’节点对应输入文本上</li></ul><h3 id=4-添加自动负面关键词节点>4. 添加‘自动负面关键词’节点<a href=#4-添加自动负面关键词节点 class=header-anchor arialabel=Anchor> #</a></h3><ul><li>找到管理器-节点管理-one button prompt, install</li><li>如果无法成功安装，可以在chrome中搜索‘one button prompt comfyui’-点击github-下载zip文件，找到comfyui根目录-custom_nodes，解压后删掉压缩包，重启comfyui即可</li><li>双击，搜索‘自动负面提示词’，添加即可<ul><li>增强负面添加到1</li><li>随机强度为0</li><li>base_model 根据大模型版本进行选择</li></ul></li><li>将负面提示词的‘clip文本编码器’的组件转化为输入，链接到‘自动负面提示词’即可。</li></ul><a href=https://finderaha.com//tags/stable-diffusion-%E7%B3%BB%E7%BB%9F%E8%AF%BE/>#Stable Diffusion 系统课</a>
<a href=https://finderaha.com//tags/comfyui/>#ComfyUI</a>
<a href=https://finderaha.com//tags/ai/>#AI</a><p style=color:#777>最后一次修改于 2024-10-29</p></div><a href=#top><i class="fa fa-chevron-up" style=font-size:30px;color:#000></i></a></main><footer class=footer><div class=content><script src=https://giscus.app/client.js data-repo=finderaha/myblog data-repo-id=R_kgDOLxcP2A data-category=Announcements data-category-id=DIC_kwDOLxcP2M4Ce2as data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></br></div><script type=text/javascript src=/js/math-code.js></script><script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type=text/javascript src=/js/center-img.js></script><ul class=footer-links><li><a href=/cn/posts/index.xml type=application/rss+xml title="RSS feed">订阅</a></li><li><a href=http://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank>版权
<i class="fa fa-cc" aria-hidden=true title="Attribution-NonCommercial-ShareAlike 4.0 International"></i></a></li></ul><div class=copyright-text>©
郝志杰
2024</div></footer>